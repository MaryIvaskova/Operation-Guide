<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Цифровий помічник</title>
    <style>
        body { font-family: Arial, sans-serif; background: #F2F2F2; margin: 0; padding: 0; }
        .container { max-width: 800px; margin: auto; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }

        /* Заголовки */
        h1, h2 { text-align: center; color: #2aa696; }

        /* Статистика */
        .stats { text-align: center; margin-bottom: 20px; }

        /* Список програм */
        .apps-list { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; padding: 10px; }
        .app-item {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #e3f2fd;
            padding: 10px;
            border-radius: 5px;
            text-decoration: none;
            color: #333;
            width: 45%;
            justify-content: center;
        }
        .app-item:hover { background: #bbdefb; }
        .app-item img { width: 40px; height: 40px; }

        /* Список інструкцій */
        .instructions-list { padding: 10px; }
        .instruction-item {
            background: #e3f2fd;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            text-decoration: none;
            display: block;
            color: #333;
            text-align: center;
        }
        .instruction-item:hover { background: #bbdefb; }

        /* Кнопка зв'язку */
        .contact-btn {
            display: block;
            background: #2aa696;
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 5px;
            text-decoration: none;
            font-size: 18px;
            margin: 20px auto;
            width: 80%;
        }
        .contact-btn:hover { background: #249484; }

        /* Адаптація для мобільних */
        @media (max-width: 600px) {
            .app-item { width: 100%; }
            .container { padding: 10px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Цифровий помічник</h1>

        <!-- Відображення статистики -->
        <div class="stats">
            <p><strong>Відвідувань сайту:</strong> {{ visits }}</p>
        </div>

        <h2>Список програм</h2>
        <div class="apps-list">
            {% for app in applications %}
                <a href="?app_id={{ app.id }}" class="app-item">
                    <img src="{{ app.icon.url }}" alt="{{ app.name }}"> {{ app.name }}
                </a>
            {% endfor %}
        </div>

        {% if selected_app %}
            <h2>Інструкції для {{ selected_app.name }}</h2>
            <div class="instructions-list">
                {% for instruction in instructions %}
                    <a href="{% url 'instruction_detail' instruction.id %}" class="instruction-item">
                        {{ instruction.title }}
                    </a>
                {% endfor %}
            </div>
        {% endif %}

        <a href="#" class="contact-btn">Зв'язатися</a>
    </div>
</body>
</html>